<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>VN FOOD - General Store</title>
    <link rel="stylesheet" href="style.css">

    <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
</head>
<body>

<header class="hero">
    <img src="https://i.imgur.com/GJHq5nY.png" class="logo">

    <h1>VN FOOD</h1>
    <p class="subtitle">Your Trusted General Store</p>

    <button class="tagline">Eat Well, Feel Good, Live Happy!</button>
</header>


<!-- HIGHLIGHT SECTION -->
<h2 class="section-title">‚≠ê Highlight Items ‚≠ê</h2>
<div class="slider" id="highlightSlider"></div>


<!-- SEARCH BAR -->
<div class="search-container">
    <input type="text" id="searchInput" placeholder="Search items..." onkeyup="searchItem()">
</div>


<!-- PRODUCT SECTION -->
<h2 class="section-title">üõí Product List üõí</h2>
<div class="grid" id="productGrid"></div>


<script>
// ========== GOOGLE SHEET CONFIG ==========
const SHEET_PRODUCTS = "https://docs.google.com/spreadsheets/d/e/2PACX-1vTTCtV7qFSDZDCVIDI2vkXzGxI5GbG8Ez8suIyx_TrDEXSS6t23s6QrFn9ttW079TZk6yenfuc5LVt1/pub?gid=0&single=true&output=csv";
const SHEET_HIGHLIGHT = "https://docs.google.com/spreadsheets/d/e/2PACX-1vTTCtV7qFSDZDCVIDI2vkXzGxI5GbG8Ez8suIyx_TrDEXSS6t23s6QrFn9ttW079TZk6yenfuc5LVt1/pub?gid=2032194924&single=true&output=csv";


// ========== LOAD HIGHLIGHT ==========
Papa.parse(SHEET_HIGHLIGHT, {
    download: true,
    header: true,
    complete: function(result) {
        let slider = document.getElementById("highlightSlider");

        result.data.forEach(item => {
            if (!item.name) return;

            slider.innerHTML += `
                <div class="highlight-box">
                    <img src="${item.img_url}">
                    <div class="highlight-name">${item.name}</div>
                    <div class="highlight-price">${item.price}</div>
                </div>
            `;
        });
    }
});


// ========== LOAD PRODUCTS ==========
Papa.parse(SHEET_PRODUCTS, {
    download: true,
    header: true,
    complete: function(result) {
        let grid = document.getElementById("productGrid");

        result.data.forEach(item => {
            if (!item.name) return;

            grid.innerHTML += `
                <div class="item">
                    <img src="${item.img_url}">
                    <div class="name">${item.name}</div>
                    <div class="price">${item.price}</div>
                </div>
            `;
        });
    }
});


// SEARCH FUNCTION
function searchItem() {
    let input = document.getElementById("searchInput").value.toLowerCase();
    let items = document.getElementsByClassName("item");

    for (let i = 0; i < items.length; i++) {
        let name = items[i].getElementsByClassName("name")[0].innerText.toLowerCase();
        items[i].style.display = name.includes(input) ? "block" : "none";
    }
}
</script>

</body>
</html>
